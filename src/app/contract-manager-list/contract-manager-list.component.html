<app-adminheader></app-adminheader>

<div class="nextGen_admin_mainwrapper" style="margin-top: 25px;">


  <div class="user_management_inner">

    <div class="inner_search_wrapper">
        <div class="inner_content_wrapper">
            <div class="search_content">
                <h3> <input type="text"
                        placeholder="Search by Email"><button><i class="fa fa-search"
                            aria-hidden="true"></i></button> </h3>
            </div>
            <div class="search_content">
                <h3> <input type="text" placeholder="Search by Name"><button><i class="fa fa-search"
                            aria-hidden="true"></i></button> </h3>
            </div>

            <!-- added by himadri start product search-->

            <div class="search_content">
                <h3>
                <select  required>
                        <option value="0" disabled>Select Product</option>
                        <!-- <option *ngFor="let searchval of productval" value="{{searchval.categoryname}}">
                            {{searchval.categoryname}}</option> -->
                    </select>
                </h3>
            </div>

                                        <!-- added by himadri end product search-->

        <!-- added by himadri start Date Range search-->

            <span>
            <form>
              <div class="form-group">
                    <input type="text" placeholder="Select Date Range" class="form-control"
                        
                        [bsConfig]="{ dateInputFormat: 'MM-DD-YYYY',  selectFromOtherMonth: false }"
                        #drp="bsDaterangepicker" bsDaterangepicker>

                </div>
                <div class="form-group row form-groupbtndiv">

                    <button type="submit" class="btn_search" > search </button>
                    <button type="submit" class="btn_search"> show all
                    </button>
                </div>

            </form>
            </span>


            <!-- added by himadri end Date Range search-->


        </div>
        <div class="clearfix"></div>
    </div>

  <div class="nexgen_admin_table">
    <div class="table-responsive admin_table_wrapper">


          <div class="action_section action_sectionnew">
        <a *ngIf="cookeiservice.get('usertype') == 'rep'" class="addfrinderbtn addfrinderbtnupd" routerLink="/add-contract-manager">Request Contract</a>
      </div>
      <table mdbTable class="table">

        <thead>
          <tr>
            <th *ngFor="let head of headElements" scope="col">{{head}} </th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr mdbTableCol *ngFor="let el of datalist; let i = index">
            <td datalabel="Id" scope="row">{{i + 1}}</td>
            <td datalabel="Data">{{el.date}}</td>
            <td datalabel="Product Name">{{el.product}}</td>
            <td datalabel="Rep Name" (click)="showdetails(el.rep_id, 'rep')">{{el.created_by}}</td>
            <td datalabel="Lead Name" (click)="showdetails(el.lead_id, 'lead')">{{el.lead_fullName}}</td>
            <td datalabel="Status">{{el.status}}</td>
            <td datalabel="Notes" (click)="openModalData(el,showmodal)"><span class="tdfixedtext">{{el.notes}}</span></td>
            <!-- <td  *ngIf="cookeiservice.get('usertype') == 'contract_manager'" datalabel="edit"> -->
                <td datalabel="edit">
              <span class="edit_user" (click)="editRow(el)">Edit</span>
              <span *ngIf=" cookeiservice.get('usertype') != 'rep'  && el.status == 'request'"  class="edit_user" (click)="makeContract(el)">Create Contract</span>

              <span *ngIf="cookeiservice.get('usertype') == 'admin'" class="edit_user" (click)="deletdata(el,commonconfirmmodal)">Delete</span>
            </td>
          </tr>
        </tbody>
      </table>

    </div>

  </div>
</div>
<app-footer></app-footer>


<!--Common confirmation modal-->
<ng-template #commonconfirmmodal>
  <div class="modal-body brandmanagement_modal successmodal_listing">
    <div class="logo_wrapper">
      <img src="assets/images/logo.png">
    </div>
    <div class="brand_messagebox">
      <h3>Are you sure that you want to delete this record ?</h3>
      <div class="btn_cnt">
        <button class="message_allow" (click)="confirmdelete(messagemodal)">Yes</button>
        <button class="message_deny" (click)="nodelete()">No</button>
      </div>
    </div>
  </div>
  <div>
  </div>
</ng-template>



<!--Common message modal-->
<ng-template #messagemodal>
  <div class="modal-body brandmanagement_modal">
    <div class="logo_wrapper">
      <img src="assets/images/logo.png">
    </div>
    <div class="message_success">{{message}}</div>

  </div>
</ng-template>



<!--Common message modal-->
<ng-template #showmodal>
  <div class="modal-body brandmanagement_modal">
    <!-- <div class="logo_wrapper">
      <img src="assets/images/logo.png">
    </div> -->
    <p>{{selecteditem.notes}}</p>
    <div class="btn_cnt">
      <button class="message_deny" (click)="modalRef1.hide()">close</button>
    </div>
  </div>
</ng-template>